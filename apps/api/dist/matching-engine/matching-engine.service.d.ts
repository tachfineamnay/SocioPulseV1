import { PrismaService } from '../common/prisma/prisma.service';
import { FindCandidatesDto, MatchingResultDto, CreateMissionDto } from './dto';
export declare class MatchingEngineService {
    private readonly prisma;
    private readonly logger;
    constructor(prisma: PrismaService);
    createMission(dto: CreateMissionDto, clientId: string): Promise<{
        longitude: number | null;
        latitude: number | null;
        description: string;
        title: string;
        id: string;
        status: import(".prisma/client").$Enums.MissionStatus;
        createdAt: Date;
        updatedAt: Date;
        hourlyRate: number;
        address: string;
        city: string;
        postalCode: string;
        radiusKm: number;
        jobTitle: string;
        isNightShift: boolean;
        urgencyLevel: import(".prisma/client").$Enums.MissionUrgency;
        startDate: Date;
        endDate: Date;
        requiredSkills: import("@prisma/client/runtime/library").JsonValue;
        requiredDiplomas: import("@prisma/client/runtime/library").JsonValue;
        clientId: string;
        assignedExtraId: string | null;
        estimatedHours: number | null;
        totalBudget: number | null;
        assignedAt: Date | null;
        completedAt: Date | null;
    }>;
    findCandidates(missionId: string, options?: FindCandidatesDto): Promise<MatchingResultDto>;
    private calculateDistance;
    private toRad;
    private calculateSkillsMatch;
    private calculateDiplomasMatch;
    private checkAvailability;
    private calculateMatchScore;
    getMissionWithApplications(missionId: string): Promise<{
        applications: ({
            extra: {
                profile: {
                    longitude: number | null;
                    latitude: number | null;
                    id: string;
                    createdAt: Date;
                    updatedAt: Date;
                    userId: string;
                    firstName: string;
                    lastName: string;
                    avatarUrl: string | null;
                    bio: string | null;
                    headline: string | null;
                    specialties: import("@prisma/client/runtime/library").JsonValue;
                    diplomas: import("@prisma/client/runtime/library").JsonValue;
                    hourlyRate: number | null;
                    address: string | null;
                    city: string | null;
                    postalCode: string | null;
                    radiusKm: number;
                    isVideoEnabled: boolean;
                    videoIntroUrl: string | null;
                    totalMissions: number;
                    totalBookings: number;
                    averageRating: number;
                    totalReviews: number;
                };
            } & {
                email: string;
                role: import(".prisma/client").$Enums.UserRole;
                phone: string | null;
                id: string;
                passwordHash: string | null;
                status: import(".prisma/client").$Enums.UserStatus;
                walletBalance: number;
                stripeCustomerId: string | null;
                stripeAccountId: string | null;
                stripeOnboarded: boolean;
                emailVerified: Date | null;
                lastLoginAt: Date | null;
                createdAt: Date;
                updatedAt: Date;
            };
        } & {
            id: string;
            status: string;
            createdAt: Date;
            missionId: string;
            extraId: string;
            coverLetter: string | null;
            proposedRate: number | null;
            respondedAt: Date | null;
        })[];
        client: {
            establishment: {
                longitude: number | null;
                latitude: number | null;
                name: string;
                type: string | null;
                description: string | null;
                id: string;
                createdAt: Date;
                updatedAt: Date;
                userId: string;
                address: string;
                city: string;
                postalCode: string;
                siret: string | null;
                logoUrl: string | null;
                website: string | null;
                contactName: string | null;
                contactRole: string | null;
            };
        } & {
            email: string;
            role: import(".prisma/client").$Enums.UserRole;
            phone: string | null;
            id: string;
            passwordHash: string | null;
            status: import(".prisma/client").$Enums.UserStatus;
            walletBalance: number;
            stripeCustomerId: string | null;
            stripeAccountId: string | null;
            stripeOnboarded: boolean;
            emailVerified: Date | null;
            lastLoginAt: Date | null;
            createdAt: Date;
            updatedAt: Date;
        };
        assignedExtra: {
            profile: {
                longitude: number | null;
                latitude: number | null;
                id: string;
                createdAt: Date;
                updatedAt: Date;
                userId: string;
                firstName: string;
                lastName: string;
                avatarUrl: string | null;
                bio: string | null;
                headline: string | null;
                specialties: import("@prisma/client/runtime/library").JsonValue;
                diplomas: import("@prisma/client/runtime/library").JsonValue;
                hourlyRate: number | null;
                address: string | null;
                city: string | null;
                postalCode: string | null;
                radiusKm: number;
                isVideoEnabled: boolean;
                videoIntroUrl: string | null;
                totalMissions: number;
                totalBookings: number;
                averageRating: number;
                totalReviews: number;
            };
        } & {
            email: string;
            role: import(".prisma/client").$Enums.UserRole;
            phone: string | null;
            id: string;
            passwordHash: string | null;
            status: import(".prisma/client").$Enums.UserStatus;
            walletBalance: number;
            stripeCustomerId: string | null;
            stripeAccountId: string | null;
            stripeOnboarded: boolean;
            emailVerified: Date | null;
            lastLoginAt: Date | null;
            createdAt: Date;
            updatedAt: Date;
        };
    } & {
        longitude: number | null;
        latitude: number | null;
        description: string;
        title: string;
        id: string;
        status: import(".prisma/client").$Enums.MissionStatus;
        createdAt: Date;
        updatedAt: Date;
        hourlyRate: number;
        address: string;
        city: string;
        postalCode: string;
        radiusKm: number;
        jobTitle: string;
        isNightShift: boolean;
        urgencyLevel: import(".prisma/client").$Enums.MissionUrgency;
        startDate: Date;
        endDate: Date;
        requiredSkills: import("@prisma/client/runtime/library").JsonValue;
        requiredDiplomas: import("@prisma/client/runtime/library").JsonValue;
        clientId: string;
        assignedExtraId: string | null;
        estimatedHours: number | null;
        totalBudget: number | null;
        assignedAt: Date | null;
        completedAt: Date | null;
    }>;
    applyToMission(missionId: string, extraId: string, coverLetter?: string, proposedRate?: number): Promise<{
        mission: {
            longitude: number | null;
            latitude: number | null;
            description: string;
            title: string;
            id: string;
            status: import(".prisma/client").$Enums.MissionStatus;
            createdAt: Date;
            updatedAt: Date;
            hourlyRate: number;
            address: string;
            city: string;
            postalCode: string;
            radiusKm: number;
            jobTitle: string;
            isNightShift: boolean;
            urgencyLevel: import(".prisma/client").$Enums.MissionUrgency;
            startDate: Date;
            endDate: Date;
            requiredSkills: import("@prisma/client/runtime/library").JsonValue;
            requiredDiplomas: import("@prisma/client/runtime/library").JsonValue;
            clientId: string;
            assignedExtraId: string | null;
            estimatedHours: number | null;
            totalBudget: number | null;
            assignedAt: Date | null;
            completedAt: Date | null;
        };
        extra: {
            profile: {
                longitude: number | null;
                latitude: number | null;
                id: string;
                createdAt: Date;
                updatedAt: Date;
                userId: string;
                firstName: string;
                lastName: string;
                avatarUrl: string | null;
                bio: string | null;
                headline: string | null;
                specialties: import("@prisma/client/runtime/library").JsonValue;
                diplomas: import("@prisma/client/runtime/library").JsonValue;
                hourlyRate: number | null;
                address: string | null;
                city: string | null;
                postalCode: string | null;
                radiusKm: number;
                isVideoEnabled: boolean;
                videoIntroUrl: string | null;
                totalMissions: number;
                totalBookings: number;
                averageRating: number;
                totalReviews: number;
            };
        } & {
            email: string;
            role: import(".prisma/client").$Enums.UserRole;
            phone: string | null;
            id: string;
            passwordHash: string | null;
            status: import(".prisma/client").$Enums.UserStatus;
            walletBalance: number;
            stripeCustomerId: string | null;
            stripeAccountId: string | null;
            stripeOnboarded: boolean;
            emailVerified: Date | null;
            lastLoginAt: Date | null;
            createdAt: Date;
            updatedAt: Date;
        };
    } & {
        id: string;
        status: string;
        createdAt: Date;
        missionId: string;
        extraId: string;
        coverLetter: string | null;
        proposedRate: number | null;
        respondedAt: Date | null;
    }>;
}
